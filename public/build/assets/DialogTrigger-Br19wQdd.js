import{a as S,c as R,u as y,g as E,e as B,P as w}from"./Presence-Bdn01jZp.js";import{P as O}from"./Icon-HLcQNufH.js";import{d as g,J as M,z as v,u as e,r as q,i as c,b as _,e as f,C as m,s as A,g as F,j as T,K as $,L as k}from"./app-Dpk2qVhs.js";import{a as I}from"./Input-CzHuiSw4.js";import{D as K,F as L,b as x,a as N,T as Y}from"./usePortal-CLMo3DUw.js";const[D,U]=R("DialogRoot");var j=g({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(o,{emit:a}){const t=o,s=S(t,"open",a,{defaultValue:t.defaultOpen,passive:t.open===void 0}),i=q(),p=q(),{modal:u}=M(t);return U({open:s,modal:u,openModal:()=>{s.value=!0},onOpenChange:n=>{s.value=n},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:i,contentElement:p}),(n,l)=>v(n.$slots,"default",{open:e(s),close:()=>s.value=!1})}}),ge=j,V=g({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const a=o;y();const t=D();return(r,s)=>(c(),_(e(O),m(a,{type:r.as==="button"?"button":void 0,onClick:s[0]||(s[0]=i=>e(t).onOpenChange(!1))}),{default:f(()=>[v(r.$slots,"default")]),_:3},16,["type"]))}}),me=V;const ye="menu.itemSelect",b=["Enter"," "],z=["ArrowDown","PageUp","Home"],H=["ArrowUp","PageDown","End"],De=[...z,...H],Ce={ltr:[...b,"ArrowRight"],rtl:[...b,"ArrowLeft"]},Oe={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function G(o){return o?"open":"closed"}function J(o){return o==="indeterminate"}function Ee(o){return J(o)?"indeterminate":o?"checked":"unchecked"}function qe(o){const a=E();for(const t of o)if(t===a||(t.focus(),E()!==a))return}function X(o,a){const{x:t,y:r}=o;let s=!1;for(let i=0,p=a.length-1;i<a.length;p=i++){const u=a[i].x,n=a[i].y,l=a[p].x,d=a[p].y;n>r!=d>r&&t<(l-u)*(r-n)/(d-n)+u&&(s=!s)}return s}function Be(o,a){if(!a)return!1;const t={x:o.clientX,y:o.clientY};return X(t,a)}function Ie(o){return o.pointerType==="mouse"}var Q=g({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:a}){const t=o,r=a,s=D(),{forwardRef:i,currentElement:p}=y();return s.titleId||=B(void 0,"reka-dialog-title"),s.descriptionId||=B(void 0,"reka-dialog-description"),A(()=>{s.contentElement=p,E()!==document.body&&(s.triggerElement.value=E())}),(u,n)=>(c(),_(e(L),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:n[5]||(n[5]=l=>r("openAutoFocus",l)),onUnmountAutoFocus:n[6]||(n[6]=l=>r("closeAutoFocus",l))},{default:f(()=>[F(e(K),m({id:e(s).contentId,ref:e(i),as:u.as,"as-child":u.asChild,"disable-outside-pointer-events":u.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(s).descriptionId,"aria-labelledby":e(s).titleId,"data-state":e(G)(e(s).open.value)},u.$attrs,{onDismiss:n[0]||(n[0]=l=>e(s).onOpenChange(!1)),onEscapeKeyDown:n[1]||(n[1]=l=>r("escapeKeyDown",l)),onFocusOutside:n[2]||(n[2]=l=>r("focusOutside",l)),onInteractOutside:n[3]||(n[3]=l=>r("interactOutside",l)),onPointerDownOutside:n[4]||(n[4]=l=>r("pointerDownOutside",l))}),{default:f(()=>[v(u.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),h=Q,W=g({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:a}){const t=o,r=a,s=D(),i=I(r),{forwardRef:p,currentElement:u}=y();return x(u),(n,l)=>(c(),_(h,m({...t,...e(i)},{ref:e(p),"trap-focus":e(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:l[0]||(l[0]=d=>{d.defaultPrevented||(d.preventDefault(),e(s).triggerElement.value?.focus())}),onPointerDownOutside:l[1]||(l[1]=d=>{const C=d.detail.originalEvent,P=C.button===0&&C.ctrlKey===!0;(C.button===2||P)&&d.preventDefault()}),onFocusOutside:l[2]||(l[2]=d=>{d.preventDefault()})}),{default:f(()=>[v(n.$slots,"default")]),_:3},16,["trap-focus"]))}}),Z=W,ee=g({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:a}){const t=o,s=I(a);y();const i=D(),p=q(!1),u=q(!1);return(n,l)=>(c(),_(h,m({...t,...e(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:l[0]||(l[0]=d=>{d.defaultPrevented||(p.value||e(i).triggerElement.value?.focus(),d.preventDefault()),p.value=!1,u.value=!1}),onInteractOutside:l[1]||(l[1]=d=>{d.defaultPrevented||(p.value=!0,d.detail.originalEvent.type==="pointerdown"&&(u.value=!0));const C=d.target;e(i).triggerElement.value?.contains(C)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&u.value&&d.preventDefault()})}),{default:f(()=>[v(n.$slots,"default")]),_:3},16))}}),te=ee,oe=g({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:a}){const t=o,r=a,s=D(),i=I(r),{forwardRef:p}=y();return(u,n)=>(c(),_(e(w),{present:u.forceMount||e(s).open.value},{default:f(()=>[e(s).modal.value?(c(),_(Z,m({key:0,ref:e(p)},{...t,...e(i),...u.$attrs}),{default:f(()=>[v(u.$slots,"default")]),_:3},16)):(c(),_(te,m({key:1,ref:e(p)},{...t,...e(i),...u.$attrs}),{default:f(()=>[v(u.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Pe=oe,ae=g({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(o){const a=o;y();const t=D();return(r,s)=>(c(),_(e(O),m(a,{id:e(t).descriptionId}),{default:f(()=>[v(r.$slots,"default")]),_:3},16,["id"]))}}),be=ae,se=g({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const a=D();return N(!0),y(),(t,r)=>(c(),_(e(O),{as:t.as,"as-child":t.asChild,"data-state":e(a).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:f(()=>[v(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),re=se,ne=g({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const a=D(),{forwardRef:t}=y();return(r,s)=>e(a)?.modal.value?(c(),_(e(w),{key:0,present:r.forceMount||e(a).open.value},{default:f(()=>[F(re,m(r.$attrs,{ref:e(t),as:r.as,"as-child":r.asChild}),{default:f(()=>[v(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):T("v-if",!0)}}),we=ne,le=g({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(o){const a=o;return(t,r)=>(c(),_(e(Y),$(k(a)),{default:f(()=>[v(t.$slots,"default")]),_:3},16))}}),Ae=le,ue=g({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(o){const a=o,t=D();return y(),(r,s)=>(c(),_(e(O),m(a,{id:e(t).titleId}),{default:f(()=>[v(r.$slots,"default")]),_:3},16,["id"]))}}),Fe=ue,ie=g({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const a=o,t=D(),{forwardRef:r,currentElement:s}=y();return t.contentId||=B(void 0,"reka-dialog-content"),A(()=>{t.triggerElement.value=s.value}),(i,p)=>(c(),_(e(O),m(a,{ref:e(r),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:f(()=>[v(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),he=ie;export{Pe as D,De as F,ye as I,H as L,b as S,Fe as a,be as b,me as c,he as d,Ae as e,we as f,ge as g,qe as h,G as i,Be as j,Ie as k,Ee as l,J as m,Oe as n,Ce as o};
