import{r as F,w as J,o as ee,a as te,c as $,d as S,b as U,e as u,f as t,g as l,h as f,i as _,j as H,t as v,k as T,F as M,l as q,m as ae,u as a,n as se}from"./app-DJZGi31V.js";import{_ as le,a as oe}from"./AppLayout.vue_vue_type_script_setup_true_lang-DoyBgQAd.js";import{_ as ne}from"./SeoHead.vue_vue_type_script_setup_true_lang-BpJb-QMV.js";import{_ as O}from"./Card-4ZveMfXH.js";import{_ as K}from"./Badge-BA966FKQ.js";import{_ as E}from"./Button-BybYutMJ.js";import{_ as W}from"./SelectMenu-DpWUqat9.js";import{_ as X}from"./FormField-DbfvMHtM.js";import{_ as Y}from"./Input-CPATCwRy.js";import{_ as re}from"./Icon-Uxy1xgtf.js";import{_ as ie}from"./Pagination-ByqxNk6k.js";import"./Presence-BEIDQvWP.js";import"./useLocale-DLCHvZlb.js";import"./usePortal-C1-08-0T.js";import"./VisuallyHidden-CER-Nb7v.js";import"./utils-B4CAbWlJ.js";import"./useToast-ZjLogk6T.js";import"./Separator-DCOf50LV.js";import"./PopperArrow-CWvISw3c.js";import"./DialogTrigger-DAE5seIC.js";import"./RovingFocusItem-CDxtaBKR.js";import"./Checkbox-Bgji3sDV.js";import"./VisuallyHiddenInput-BglKthas.js";import"./Label-BIF3rPtG.js";import"./index-feEp0Oia.js";const de=[{label:"Terbaru",value:"newest"},{label:"Terlama",value:"oldest"},{label:"A-Z",value:"az"},{label:"Z-A",value:"za"}];function ue(c){const r=F(c.filters.search??""),e=F(c.filters.tag??""),s=F(c.filters.sort??"newest"),p=F(!1),m=F(!1),g=F(!1);let n=null;const o=$(()=>c.articles.data),i=$(()=>c.articles),y=$(()=>c.availableTags),h=$(()=>c.stats),b=$(()=>de),k=$(()=>[{label:"Semua tag",value:""},...y.value.map(d=>({label:d,value:d}))]),w=$(()=>r.value.trim()!==""||e.value.trim()!==""||s.value!=="newest"),V=$(()=>b.value.find(C=>C.value===s.value)?.label??"Terbaru"),B=$(()=>e.value.trim()===""?"Semua tag":e.value);function z(d){const C={},Z=r.value.trim(),G=e.value.trim();return Z!==""&&(C.search=Z),G!==""&&(C.tag=G),s.value!=="newest"&&(C.sort=s.value),d>1&&(C.page=d),C}function A(d=1){te.get("/articles",z(d),{preserveState:!0,preserveScroll:!0,replace:!0,only:["seo","articles","filters","availableTags","stats"],onStart:()=>{m.value=!0},onFinish:()=>{m.value=!1}})}function P(d){r.value=d}function D(d){e.value=d,A(1)}function L(d){s.value=d,A(1)}function j(d){A(d)}function R(){A(1)}function Q(){r.value="",e.value="",s.value="newest",A(1)}function I(){p.value=!0}function x(){p.value=!1}function N(d){p.value=d}return J(()=>c.filters,d=>{g.value=!0,r.value=d.search??"",e.value=d.tag??"",s.value=d.sort??"newest",setTimeout(()=>{g.value=!1},0)},{deep:!0}),J(r,()=>{g.value||(n&&clearTimeout(n),n=setTimeout(()=>{A(1)},400))}),ee(()=>{n&&(clearTimeout(n),n=null)}),{searchQuery:r,selectedTag:e,sortValue:s,isFilterDrawerOpen:p,isApplying:m,articles:o,pagination:i,availableTags:y,stats:h,sortItems:b,tagItems:k,hasActiveFilters:w,selectedSortLabel:V,selectedTagLabel:B,applyCurrentFilters:R,onSearchQueryChange:P,onTagChange:D,onSortChange:L,onPageChange:j,resetFilters:Q,openFilterDrawer:I,closeFilterDrawer:x,setFilterDrawerOpen:N}}const ce={class:"space-y-6"},pe={class:"flex flex-wrap items-center gap-2"},me={class:"grid gap-3 sm:grid-cols-3"},ge={class:"rounded-2xl border border-default bg-white/80 px-4 py-3 dark:bg-gray-900/40"},fe={class:"text-xl font-semibold text-gray-900 dark:text-white"},_e={class:"rounded-2xl border border-default bg-white/80 px-4 py-3 dark:bg-gray-900/40"},ve={class:"text-xl font-semibold text-gray-900 dark:text-white"},ye={class:"rounded-2xl border border-default bg-white/80 px-4 py-3 dark:bg-gray-900/40"},xe={class:"text-xl font-semibold text-gray-900 dark:text-white"},he=S({__name:"ArticlePageHeader",props:{stats:{},hasActiveFilters:{type:Boolean}},setup(c){return(r,e)=>{const s=K,p=O;return _(),U(p,{class:"overflow-hidden rounded-3xl border border-primary-100/60 bg-linear-to-br from-primary-50/70 via-white to-cyan-50/40 dark:border-primary-900/40 dark:from-primary-950/50 dark:via-gray-950 dark:to-cyan-950/20"},{default:u(()=>[t("div",ce,[t("div",pe,[l(s,{color:"primary",variant:"soft",size:"sm",class:"rounded-full"},{default:u(()=>[...e[0]||(e[0]=[f("Insight",-1)])]),_:1}),l(s,{color:"neutral",variant:"subtle",size:"sm",class:"rounded-full"},{default:u(()=>[...e[1]||(e[1]=[f("Nuxt UI v4",-1)])]),_:1}),c.hasActiveFilters?(_(),U(s,{key:0,color:"warning",variant:"soft",size:"sm",class:"rounded-full"},{default:u(()=>[...e[2]||(e[2]=[f(" Filter aktif ",-1)])]),_:1})):H("",!0)]),e[6]||(e[6]=t("div",{class:"space-y-2"},[t("h1",{class:"text-2xl font-bold tracking-tight text-gray-900 sm:text-4xl dark:text-white"}," Artikel & Wawasan Terbaru "),t("p",{class:"max-w-3xl text-sm leading-relaxed text-gray-600 sm:text-base dark:text-gray-300"}," Kumpulan artikel edukasi, strategi bisnis, dan update produk yang dirancang untuk membantu Anda mengambil keputusan lebih cepat. ")],-1)),t("div",me,[t("div",ge,[e[3]||(e[3]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Total Artikel",-1)),t("p",fe,v(c.stats.total_articles),1)]),t("div",_e,[e[4]||(e[4]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Hasil Saat Ini",-1)),t("p",ve,v(c.stats.result_count),1)]),t("div",ye,[e[5]||(e[5]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Tag Tersedia",-1)),t("p",xe,v(c.stats.tag_count),1)])])])]),_:1})}}}),be={class:"flex flex-col gap-3 lg:flex-row lg:items-end"},ke={class:"w-full lg:max-w-sm"},we={class:"w-full lg:max-w-xs"},$e={class:"w-full lg:max-w-xs"},Te={class:"flex gap-2 lg:ml-auto"},Ue=S({__name:"ArticleFilterBar",props:{searchQuery:{},selectedTag:{},sortValue:{},tagItems:{},sortItems:{},selectedSortLabel:{},isApplying:{type:Boolean},hasActiveFilters:{type:Boolean}},emits:["update:searchQuery","update:selectedTag","update:sortValue","apply","reset","openMobile"],setup(c,{emit:r}){const e=c,s=r;function p(g){s("update:selectedTag",g)}function m(g){s("update:sortValue",g)}return(g,n)=>{const o=Y,i=X,y=W,h=E,b=O;return _(),U(b,{class:"rounded-2xl"},{default:u(()=>[t("div",be,[t("div",ke,[l(i,{label:"Cari Artikel"},{default:u(()=>[l(o,{"model-value":e.searchQuery,icon:"i-lucide-search",placeholder:"Contoh: strategi closing",size:"lg",class:"w-full","onUpdate:modelValue":n[0]||(n[0]=k=>s("update:searchQuery",k))},null,8,["model-value"])]),_:1})]),t("div",we,[l(i,{label:"Tag"},{default:u(()=>[l(y,{"model-value":e.selectedTag,items:e.tagItems,"value-key":"value",class:"w-full","onUpdate:modelValue":p},null,8,["model-value","items"])]),_:1})]),t("div",$e,[l(i,{label:"Urutkan"},{default:u(()=>[l(y,{"model-value":e.sortValue,items:e.sortItems,"value-key":"value",class:"w-full","onUpdate:modelValue":m},null,8,["model-value","items"])]),_:1})]),t("div",Te,[l(h,{color:"neutral",variant:"outline",icon:"i-lucide-sliders-horizontal",class:"lg:hidden",onClick:n[1]||(n[1]=k=>s("openMobile"))},{default:u(()=>[...n[4]||(n[4]=[f(" Filter ",-1)])]),_:1}),l(h,{color:"neutral",variant:"outline",icon:"i-lucide-rotate-ccw",disabled:!e.hasActiveFilters||e.isApplying,onClick:n[2]||(n[2]=k=>s("reset"))},{default:u(()=>[...n[5]||(n[5]=[f(" Reset ",-1)])]),_:1},8,["disabled"]),l(h,{color:"primary",icon:"i-lucide-check",loading:e.isApplying,onClick:n[3]||(n[3]=k=>s("apply"))},{default:u(()=>[...n[6]||(n[6]=[f(" Terapkan ",-1)])]),_:1},8,["loading"])])])]),_:1})}}}),Ae={class:"space-y-4"},Ce={class:"grid grid-cols-2 gap-2 pt-2"},Fe=S({__name:"ArticleFilterDrawer",props:{open:{type:Boolean},searchQuery:{},selectedTag:{},sortValue:{},tagItems:{},sortItems:{},isApplying:{type:Boolean},hasActiveFilters:{type:Boolean}},emits:["update:open","update:searchQuery","update:selectedTag","update:sortValue","apply","reset"],setup(c,{emit:r}){const e=c,s=r;function p(){s("update:open",!1)}function m(){s("apply"),p()}function g(){s("reset"),p()}return(n,o)=>{const i=Y,y=X,h=W,b=E,k=le;return _(),U(k,{open:e.open,title:"Filter Artikel",description:"Sesuaikan hasil artikel berdasarkan kata kunci, tag, dan urutan.",ui:{overlay:"z-[80]",content:"z-[81] max-h-[85dvh]"},"onUpdate:open":o[3]||(o[3]=w=>s("update:open",w))},{body:u(()=>[t("div",Ae,[l(y,{label:"Cari Artikel",help:"Berdasarkan judul dan SEO"},{default:u(()=>[l(i,{"model-value":e.searchQuery,icon:"i-lucide-search",placeholder:"Contoh: omzet","onUpdate:modelValue":o[0]||(o[0]=w=>s("update:searchQuery",w))},null,8,["model-value"])]),_:1}),l(y,{label:"Tag"},{default:u(()=>[l(h,{"model-value":e.selectedTag,items:e.tagItems,"value-key":"value","onUpdate:modelValue":o[1]||(o[1]=w=>s("update:selectedTag",w))},null,8,["model-value","items"])]),_:1}),l(y,{label:"Urutkan"},{default:u(()=>[l(h,{"model-value":e.sortValue,items:e.sortItems,"value-key":"value","onUpdate:modelValue":o[2]||(o[2]=w=>s("update:sortValue",w))},null,8,["model-value","items"])]),_:1}),t("div",Ce,[l(b,{color:"neutral",variant:"outline",icon:"i-lucide-rotate-ccw",disabled:!e.hasActiveFilters||e.isApplying,onClick:g},{default:u(()=>[...o[4]||(o[4]=[f(" Reset ",-1)])]),_:1},8,["disabled"]),l(b,{color:"primary",icon:"i-lucide-check",loading:e.isApplying,onClick:m},{default:u(()=>[...o[5]||(o[5]=[f(" Terapkan ",-1)])]),_:1},8,["loading"])])])]),_:1},8,["open"])}}}),Se={class:"space-y-4"},Ie={key:0,class:"rounded-3xl border border-dashed border-default p-10 text-center"},Ve={class:"mx-auto mb-4 grid size-14 place-items-center rounded-2xl bg-elevated"},Be={key:1,class:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3"},ze={class:"relative h-48 overflow-hidden bg-elevated rounded-lg"},De=["src","alt"],Qe={key:1,class:"grid h-full w-full place-items-center"},Me={class:"absolute left-3 top-3 flex items-center gap-2"},Oe={class:"space-y-4 p-4"},Pe={class:"line-clamp-2 text-lg font-semibold leading-snug text-highlighted"},Le={class:"mt-2 line-clamp-3 text-sm leading-relaxed text-muted"},je={key:0,class:"flex flex-wrap gap-1.5"},Re={class:"flex items-center justify-between gap-2"},Ne={class:"text-xs text-muted"},qe=S({__name:"ArticleCardGrid",props:{articles:{},isApplying:{type:Boolean}},setup(c){const r=c;function e(s){return s?new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"short",year:"numeric"}).format(new Date(s)):"-"}return(s,p)=>{const m=re,g=K,n=E,o=O;return _(),T("div",Se,[r.articles.length===0?(_(),T("div",Ie,[t("div",Ve,[l(m,{name:"i-lucide-newspaper",class:"size-7 text-muted"})]),p[0]||(p[0]=t("p",{class:"text-lg font-semibold text-highlighted"},"Belum ada artikel ditemukan",-1)),p[1]||(p[1]=t("p",{class:"mt-1 text-sm text-muted"},"Ubah filter atau kata kunci untuk melihat hasil lain.",-1))])):(_(),T("div",Be,[(_(!0),T(M,null,q(r.articles,i=>(_(),U(o,{key:i.id,class:"group overflow-hidden rounded-2xl transition-all hover:-translate-y-0.5 hover:shadow-lg",ui:{body:"p-0"}},{default:u(()=>[t("div",ze,[i.cover_image?(_(),T("img",{key:0,src:i.cover_image,alt:i.title,class:"h-full w-full object-cover transition duration-500 group-hover:scale-105",loading:"lazy"},null,8,De)):(_(),T("div",Qe,[l(m,{name:"i-lucide-image-off",class:"size-8 text-muted"})])),t("div",Me,[l(g,{color:"neutral",variant:"solid",size:"xs",class:"rounded-full"},{default:u(()=>[f(v(e(i.published_at)),1)]),_:2},1024),l(g,{color:"primary",variant:"soft",size:"xs",class:"rounded-full"},{default:u(()=>[f(v(i.read_time_minutes)+" menit ",1)]),_:2},1024)])]),t("div",Oe,[t("div",null,[t("h2",Pe,v(i.title),1),t("p",Le,v(i.excerpt),1)]),i.tags.length>0?(_(),T("div",je,[(_(!0),T(M,null,q(i.tags.slice(0,3),y=>(_(),U(g,{key:`${i.id}-${y}`,color:"primary",variant:"subtle",size:"xs",class:"rounded-full"},{default:u(()=>[f(v(y),1)]),_:2},1024))),128))])):H("",!0),t("div",Re,[t("span",Ne," Diperbarui "+v(i.published_label??e(i.published_at)),1),l(n,{to:i.url,size:"sm",color:"primary",variant:"outline","trailing-icon":"i-lucide-arrow-right",loading:r.isApplying},{default:u(()=>[...p[2]||(p[2]=[f(" Baca ",-1)])]),_:1},8,["to","loading"])])])]),_:2},1024))),128))]))])}}}),He={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},Ee={class:"text-sm text-muted"},Ze={class:"font-semibold text-highlighted"},Ge={class:"font-semibold text-highlighted"},Je=S({__name:"ArticlePagination",props:{page:{},total:{},perPage:{},from:{},to:{}},emits:["pageChange"],setup(c,{emit:r}){const e=c,s=r;return(p,m)=>{const g=ie,n=O;return _(),U(n,{class:"rounded-2xl border border-default/70"},{default:u(()=>[t("div",He,[t("p",Ee,[m[1]||(m[1]=f(" Menampilkan ",-1)),t("span",Ze,v(e.from??0)+" - "+v(e.to??0),1),m[2]||(m[2]=f(" dari ",-1)),t("span",Ge,v(e.total),1),m[3]||(m[3]=f(" artikel. ",-1))]),l(g,{page:e.page,total:e.total,"items-per-page":e.perPage,"show-edges":"","onUpdate:page":m[0]||(m[0]=o=>s("pageChange",o))},null,8,["page","total","items-per-page"])])]),_:1})}}}),Ke={class:"min-h-screen bg-gray-50/60 py-8 transition-colors duration-300 dark:bg-gray-950"},We={class:"mx-auto flex max-w-screen-2xl flex-col gap-6 px-4 sm:px-6 lg:px-8"},Xe={class:"flex flex-wrap items-center justify-between gap-2 text-sm text-muted"},Ye={class:"font-semibold text-highlighted"},et={class:"font-semibold text-highlighted"},tt={class:"font-medium text-highlighted"},at={class:"font-medium text-highlighted"},Ct=S({layout:oe,__name:"Index",props:{seo:{},articles:{},filters:{},availableTags:{},stats:{}},setup(c){const r=c,{searchQuery:e,selectedTag:s,sortValue:p,isFilterDrawerOpen:m,isApplying:g,articles:n,pagination:o,stats:i,sortItems:y,tagItems:h,hasActiveFilters:b,selectedSortLabel:k,selectedTagLabel:w,applyCurrentFilters:V,onSearchQueryChange:B,onTagChange:z,onSortChange:A,onPageChange:P,resetFilters:D,openFilterDrawer:L,setFilterDrawerOpen:j}=ue(r),R=$(()=>(r.seo.structured_data??[]).map(x=>JSON.stringify(x)));function Q(I){A(I)}return(I,x)=>(_(),T(M,null,[l(ne,{title:r.seo.title,description:r.seo.description,canonical:r.seo.canonical,robots:r.seo.robots,image:r.seo.image??void 0},null,8,["title","description","canonical","robots","image"]),l(a(se),null,{default:u(()=>[(_(!0),T(M,null,q(R.value,(N,d)=>(_(),U(ae("script"),{key:`article-index-ld-${d}`,type:"application/ld+json",innerHTML:N},null,8,["innerHTML"]))),128))]),_:1}),t("div",Ke,[t("div",We,[l(he,{stats:a(i),"has-active-filters":a(b)},null,8,["stats","has-active-filters"]),l(Ue,{"search-query":a(e),"selected-tag":a(s),"sort-value":a(p),"tag-items":a(h),"sort-items":a(y),"selected-sort-label":a(k),"is-applying":a(g),"has-active-filters":a(b),"onUpdate:searchQuery":a(B),"onUpdate:selectedTag":a(z),"onUpdate:sortValue":Q,onApply:a(V),onReset:a(D),onOpenMobile:a(L)},null,8,["search-query","selected-tag","sort-value","tag-items","sort-items","selected-sort-label","is-applying","has-active-filters","onUpdate:searchQuery","onUpdate:selectedTag","onApply","onReset","onOpenMobile"]),t("div",Xe,[t("p",null,[x[0]||(x[0]=f(" Menampilkan ",-1)),t("span",Ye,v(a(o).from??0)+" - "+v(a(o).to??0),1),x[1]||(x[1]=f(" dari ",-1)),t("span",et,v(a(o).total),1),x[2]||(x[2]=f(" artikel. ",-1))]),t("p",null,[x[3]||(x[3]=f(" Tag: ",-1)),t("span",tt,v(a(w)),1),x[4]||(x[4]=f(" Â· Sort: ",-1)),t("span",at,v(a(k)),1)])]),l(qe,{articles:a(n),"is-applying":a(g)},null,8,["articles","is-applying"]),a(o).last_page>1?(_(),U(Je,{key:0,page:a(o).current_page,total:a(o).total,"per-page":a(o).per_page,from:a(o).from,to:a(o).to,onPageChange:a(P)},null,8,["page","total","per-page","from","to","onPageChange"])):H("",!0)]),l(Fe,{open:a(m),"search-query":a(e),"selected-tag":a(s),"sort-value":a(p),"tag-items":a(h),"sort-items":a(y),"is-applying":a(g),"has-active-filters":a(b),"onUpdate:open":a(j),"onUpdate:searchQuery":a(B),"onUpdate:selectedTag":a(z),"onUpdate:sortValue":Q,onApply:a(V),onReset:a(D)},null,8,["open","search-query","selected-tag","sort-value","tag-items","sort-items","is-applying","has-active-filters","onUpdate:open","onUpdate:searchQuery","onUpdate:selectedTag","onApply","onReset"])])],64))}});export{Ct as default};
