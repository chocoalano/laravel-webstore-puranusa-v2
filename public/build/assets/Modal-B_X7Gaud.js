import{u as F}from"./Input-CPATCwRy.js";import{D as H,a as q,b as w,c as L,d as I,e as K,f as B,g as M}from"./DialogTrigger-DAE5seIC.js";import{V as Q}from"./VisuallyHidden-CER-Nb7v.js";import{y as W,M as X,Q as Y,b as c,e as r,g as y,u as t,C as $,D as G,i as o,z as d,h as g,t as b,j as i,k as h,x as f,f as J,K as x,L as C,F as U,c as P,T as O,A as Z}from"./app-DJZGi31V.js";import{u as _}from"./useLocale-DLCHvZlb.js";import{u as ee}from"./usePortal-C1-08-0T.js";import{t as T}from"./Icon-Uxy1xgtf.js";import{_ as te}from"./Button-BybYutMJ.js";const ae={slots:{overlay:"fixed inset-0",content:"bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"w-[calc(100vw-2rem)] max-w-lg rounded-lg shadow-lg ring ring-default"}},overlay:{true:{overlay:"bg-elevated/75"}},scrollable:{true:{overlay:"overflow-y-auto",content:"relative"},false:{content:"fixed",body:"overflow-y-auto"}}},compoundVariants:[{scrollable:!0,fullscreen:!1,class:{overlay:"grid place-items-center p-4 sm:py-8"}},{scrollable:!1,fullscreen:!1,class:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] overflow-hidden"}}]},de={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},scrollable:{type:Boolean,required:!1},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(a,{emit:V}){const e=a,v=V,l=W(),{t:E}=_(),k=Z(),S=F(X(e,"open","defaultOpen","modal"),v),R=ee(O(()=>e.portal)),j=O(()=>e.content),A=P(()=>e.dismissible?e.scrollable?{pointerDownOutside:s=>{const u=s.detail.originalEvent,p=u.target;(u.offsetX>p.clientWidth||u.offsetY>p.clientHeight)&&s.preventDefault()}}:{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((u,p)=>(u[p]=m=>{m.preventDefault(),v("close:prevent")},u),{})),[N,D]=Y(),n=P(()=>T({extend:T(ae),...k.ui?.modal||{}})({transition:e.transition,fullscreen:e.fullscreen,overlay:e.overlay,scrollable:e.scrollable}));return(s,u)=>(o(),c(t(M),x(C(t(S))),{default:r(({open:p,close:m})=>[y(t(N),null,{default:r(()=>[y(t(H),$({"data-slot":"content",class:n.value.content({class:[!l.default&&e.class,e.ui?.content]})},j.value,{onAfterEnter:u[0]||(u[0]=z=>v("after:enter")),onAfterLeave:u[1]||(u[1]=z=>v("after:leave"))},G(A.value)),{default:r(()=>[l.content&&(a.title||l.title||a.description||l.description)?(o(),c(t(Q),{key:0},{default:r(()=>[a.title||l.title?(o(),c(t(q),{key:0},{default:r(()=>[d(s.$slots,"title",{},()=>[g(b(a.title),1)])]),_:3})):i("",!0),a.description||l.description?(o(),c(t(w),{key:1},{default:r(()=>[d(s.$slots,"description",{},()=>[g(b(a.description),1)])]),_:3})):i("",!0)]),_:3})):i("",!0),d(s.$slots,"content",{close:m},()=>[l.header||a.title||l.title||a.description||l.description||e.close||l.close?(o(),h("div",{key:0,"data-slot":"header",class:f(n.value.header({class:e.ui?.header}))},[d(s.$slots,"header",{close:m},()=>[J("div",{"data-slot":"wrapper",class:f(n.value.wrapper({class:e.ui?.wrapper}))},[a.title||l.title?(o(),c(t(q),{key:0,"data-slot":"title",class:f(n.value.title({class:e.ui?.title}))},{default:r(()=>[d(s.$slots,"title",{},()=>[g(b(a.title),1)])]),_:3},8,["class"])):i("",!0),a.description||l.description?(o(),c(t(w),{key:1,"data-slot":"description",class:f(n.value.description({class:e.ui?.description}))},{default:r(()=>[d(s.$slots,"description",{},()=>[g(b(a.description),1)])]),_:3},8,["class"])):i("",!0)],2),d(s.$slots,"actions"),e.close||l.close?(o(),c(t(L),{key:0,"as-child":""},{default:r(()=>[d(s.$slots,"close",{ui:n.value},()=>[e.close?(o(),c(te,$({key:0,icon:a.closeIcon||t(k).ui.icons.close,color:"neutral",variant:"ghost","aria-label":t(E)("modal.close")},typeof e.close=="object"?e.close:{},{"data-slot":"close",class:n.value.close({class:e.ui?.close})}),null,16,["icon","aria-label","class"])):i("",!0)])]),_:2},1024)):i("",!0)])],2)):i("",!0),l.body?(o(),h("div",{key:1,"data-slot":"body",class:f(n.value.body({class:e.ui?.body}))},[d(s.$slots,"body",{close:m})],2)):i("",!0),l.footer?(o(),h("div",{key:2,"data-slot":"footer",class:f(n.value.footer({class:e.ui?.footer}))},[d(s.$slots,"footer",{close:m})],2)):i("",!0)])]),_:2},1040,["class"])]),_:2},1024),l.default?(o(),c(t(I),{key:0,"as-child":"",class:f(e.class)},{default:r(()=>[d(s.$slots,"default",{open:p})]),_:2},1032,["class"])):i("",!0),y(t(K),x(C(t(R))),{default:r(()=>[a.scrollable?(o(),c(t(B),{key:0,"data-slot":"overlay",class:f(n.value.overlay({class:e.ui?.overlay}))},{default:r(()=>[y(t(D))]),_:1},8,["class"])):(o(),h(U,{key:1},[a.overlay?(o(),c(t(B),{key:0,"data-slot":"overlay",class:f(n.value.overlay({class:e.ui?.overlay}))},null,8,["class"])):i("",!0),y(t(D))],64))]),_:1},16)]),_:3},16))}};export{de as _};
