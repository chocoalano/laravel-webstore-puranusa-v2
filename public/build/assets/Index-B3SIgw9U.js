const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardHome-ftO0ARdw.js","assets/Card-cS3RJCXC.js","assets/Icon-HLcQNufH.js","assets/app-Dpk2qVhs.js","assets/Button-D3HFYD0O.js","assets/useDashboard-P1BsVIhj.js","assets/Badge-Dj3YBdeK.js","assets/FormAccount-BA_51NIU.js","assets/Textarea-Cvbrqwq-.js","assets/Separator-Cr2pdNhR.js","assets/SelectMenu-DERZyep-.js","assets/Input-CzHuiSw4.js","assets/usePortal-CLMo3DUw.js","assets/Presence-Bdn01jZp.js","assets/VisuallyHidden-BJmj1zui.js","assets/PopperArrow-D2znCzMG.js","assets/utils-CWiJOLA-.js","assets/VisuallyHiddenInput-iJgpq9SD.js","assets/index-CZ7JqbuJ.js","assets/useLocale-CA26Ptc0.js","assets/FormField-D83BjFAY.js","assets/Label-pGx1TQ6T.js","assets/Alert-Q6bWetU5.js","assets/useToast-YFBE-blV.js","assets/Orders-BCR0xXft.js","assets/Empty-CZBQMVNA.js","assets/Skeleton-CZePq8uu.js","assets/Modal-CeQOkZl5.js","assets/DialogTrigger-Br19wQdd.js","assets/Promo-DDyX650D.js","assets/Wallet-TsOw5T-1.js","assets/Zenner-7XvARH2Y.js","assets/Mitra-DbIWM9Sy.js","assets/Network-Dpwztqs5.js","assets/Bonus-DVChp1Lc.js","assets/Pagination-CrBM24A-.js","assets/Table-Dh1UqwAY.js","assets/Tabs-DwPVDAyA.js","assets/RovingFocusItem-3HBrCzkB.js","assets/Lifetime-B7K1Lhnm.js","assets/Addresses-CNYlg6NB.js","assets/Checkbox-BVf1N_5-.js","assets/DeleteAccount-DVTfTxW9.js"])))=>i.map(i=>d[i]);
import{_ as ve,a as be,b as ge}from"./PageHeader-BtqCtHyD.js";import{y as ye,b as $,e as f,f as o,x as M,i as d,k as h,z as V,j as E,u as p,c as x,A as he,r as fe,d as L,F as R,l as ke,t as D,g as s,v as we,h as B,s as xe,o as Pe,w as Se,a as v,B as g,_ as y,m as Ae,C as Me,D as $e,p as Ce}from"./app-Dpk2qVhs.js";import{_ as Te}from"./SeoHead.vue_vue_type_script_setup_true_lang-CXPd74Q_.js";import{P as De,t as Y,_ as N}from"./Icon-HLcQNufH.js";import{_ as Le}from"./Card-cS3RJCXC.js";import{_ as F}from"./Badge-Dj3YBdeK.js";import{b as Ie,c as Be,a as Ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-vbvzWjx_.js";import{u as H}from"./useDashboard-P1BsVIhj.js";import{_ as q}from"./Button-D3HFYD0O.js";import"./Presence-Bdn01jZp.js";import"./useLocale-CA26Ptc0.js";import"./usePortal-CLMo3DUw.js";import"./VisuallyHidden-BJmj1zui.js";import"./utils-CWiJOLA-.js";import"./useToast-YFBE-blV.js";import"./Input-CzHuiSw4.js";import"./Separator-Cr2pdNhR.js";import"./PopperArrow-D2znCzMG.js";import"./DialogTrigger-Br19wQdd.js";import"./RovingFocusItem-3HBrCzkB.js";import"./Checkbox-BVf1N_5-.js";import"./VisuallyHiddenInput-iJgpq9SD.js";import"./Label-pGx1TQ6T.js";const Re={slots:{root:"hidden overflow-y-auto lg:block lg:max-h-[calc(100vh-var(--ui-header-height))] lg:sticky lg:top-(--ui-header-height) py-8 lg:ps-4 lg:-ms-4 lg:pe-6.5",container:"relative",top:"sticky -top-8 -mt-8 pointer-events-none z-[1]",topHeader:"h-8 bg-default -mx-4 px-4",topBody:"bg-default relative pointer-events-auto flex flex-col -mx-4 px-4",topFooter:"h-8 bg-gradient-to-b from-default -mx-4 px-4"}},ze={__name:"PageAside",props:{as:{type:null,required:!1,default:"aside"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const a=t,e=ye(),c=he(),r=x(()=>Y({extend:Y(Re),...c.ui?.pageAside||{}})());return(n,b)=>(d(),$(p(De),{as:t.as,"data-slot":"root",class:M(r.value.root({class:[a.ui?.root,a.class]}))},{default:f(()=>[o("div",{"data-slot":"container",class:M(r.value.container({class:a.ui?.container}))},[e.top?(d(),h("div",{key:0,"data-slot":"top",class:M(r.value.top({class:a.ui?.top}))},[o("div",{"data-slot":"topHeader",class:M(r.value.topHeader({class:a.ui?.topHeader}))},null,2),o("div",{"data-slot":"topBody",class:M(r.value.topBody({class:a.ui?.topBody}))},[V(n.$slots,"top")],2),o("div",{"data-slot":"topFooter",class:M(r.value.topFooter({class:a.ui?.topFooter}))},null,2)],2)):E("",!0),V(n.$slots,"default"),V(n.$slots,"bottom")],2)]),_:3},8,["as","class"]))}};function Oe(t){const a=fe(!1);function e(){a.value=!0}function c(){a.value=!1}function r(n,b=!1){t.onSelect(n),b&&c()}return{mobileMenuOpen:a,openMobileMenu:e,closeMobileMenu:c,selectSection:r}}function Ue(){function t(e){return"type"in e&&e.type==="label"}function a(e){return!t(e)}return{isLabelLink:t,isActionLink:a}}const Ke={class:"space-y-1"},Ve={key:0,class:"pt-3 pb-1"},je={class:"text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400"},Ne={class:"flex-1 text-left"},ee=L({__name:"DashboardAsideMenuNav",props:{active:{},links:{},keyPrefix:{default:"aside"}},emits:["select"],setup(t,{emit:a}){const e=t,c=a,{isLabelLink:r,isActionLink:n}=Ue();function b(i){c("select",i)}return(i,k)=>{const _=N,m=q;return d(),h("nav",Ke,[(d(!0),h(R,null,ke(e.links,(u,P)=>(d(),h(R,{key:`${e.keyPrefix}-${P}`},[p(r)(u)?(d(),h("div",Ve,[o("p",je,D(u.label),1)])):p(n)(u)?(d(),$(m,{key:1,color:u.color??"neutral",variant:e.active===u.value?"solid":"ghost",class:"w-full justify-start rounded-xl",icon:u.icon,ui:{base:"w-full justify-start"},onClick:C=>b(u.value)},{default:f(()=>[o("span",Ne,D(u.label),1),s(_,{name:"i-lucide-chevron-right",class:"size-4 opacity-60"})]),_:2},1032,["color","variant","icon","onClick"])):E("",!0)],64))),128))])}}}),Fe=L({__name:"DashboardAsideMenuTrigger",props:{walletBalance:{default:0}},emits:["open"],setup(t,{emit:a}){const e=t,c=a,{formatIDR:r}=H();function n(){c("open")}return(b,i)=>{const k=F,_=q;return d(),$(_,{color:"neutral",variant:"outline",icon:"i-lucide-menu",class:"w-full justify-start rounded-xl",onClick:n},{default:f(()=>[i[0]||(i[0]=o("span",{class:"flex-1 text-left"},"Menu Akun",-1)),s(k,{label:p(r)(e.walletBalance??0),color:"primary",variant:"soft",class:"rounded-full"},null,8,["label"])]),_:1})}}}),He={},qe={class:"rounded-2xl border border-gray-200 bg-white/70 p-3 text-xs text-gray-600 backdrop-blur dark:border-gray-800 dark:bg-gray-950/40 dark:text-gray-300"},We={class:"flex items-start gap-2"};function Ze(t,a){const e=N;return d(),h("div",qe,[o("div",We,[s(e,{name:"i-lucide-info",class:"mt-0.5 size-4 opacity-70"}),a[0]||(a[0]=o("div",{class:"min-w-0"},[o("p",{class:"font-semibold text-gray-900 dark:text-white"},"Tips cepat"),o("ul",{class:"mt-1 list-disc pl-5 space-y-1"},[o("li",null,"Gunakan alamat default agar checkout lebih cepat."),o("li",null,'Cek pesanan "Menunggu" agar tidak kedaluwarsa.'),o("li",null,"Pastikan saldo wallet cukup sebelum bayar.")])],-1))])])}const te=Ie(He,[["render",Ze]]),Ge={class:"lg:hidden"},Qe={class:"mt-5"},Je={class:"flex items-start justify-between"},Xe=L({__name:"DashboardAsideMenu",props:{active:{},links:{},walletBalance:{default:0}},emits:["update:active"],setup(t,{emit:a}){const e=t,c=a,{formatIDR:r}=H(),{mobileMenuOpen:n,openMobileMenu:b,selectSection:i}=Oe({onSelect:m=>c("update:active",m)});function k(m){i(m)}function _(m){i(m,!0)}return(m,u)=>{const P=Be,C=F,S=Le,A=ze;return d(),h(R,null,[o("div",Ge,[s(Fe,{"wallet-balance":e.walletBalance,onOpen:p(b)},null,8,["wallet-balance","onOpen"]),s(P,{open:p(n),"onUpdate:open":u[0]||(u[0]=I=>we(n)?n.value=I:null),portal:!0,side:"left",title:"Menu Akun",description:"Kelola akun & aktivitasmu",ui:{overlay:"z-[90]",content:"z-[100] w-full sm:max-w-sm"}},{body:f(()=>[s(ee,{active:e.active,links:e.links,"key-prefix":"mobile-aside",onSelect:_},null,8,["active","links"]),o("div",Qe,[s(te)])]),_:1},8,["open"])]),s(A,{class:"hidden lg:block lg:col-span-3"},{default:f(()=>[s(S,{class:"rounded-2xl"},{header:f(()=>[o("div",Je,[u[1]||(u[1]=o("div",null,[o("p",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Menu Akun"),o("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Kelola akun & aktivitasmu")],-1)),s(C,{label:p(r)(e.walletBalance??0),color:"primary",variant:"soft",class:"rounded-full"},null,8,["label"])])]),footer:f(()=>[s(te)]),default:f(()=>[s(ee,{active:e.active,links:e.links,"key-prefix":"desktop-aside",onSelect:k},null,8,["active","links"])]),_:1})]),_:1})],64)}}}),Ye={class:"flex items-center gap-3"},et={class:"size-10 overflow-hidden rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-gray-900 grid place-items-center"},tt=["src","alt"],at={class:"min-w-0"},ot={class:"truncate text-xl font-semibold text-gray-900 dark:text-white"},st={class:"truncate text-sm text-gray-600 dark:text-gray-300"},rt={key:0,class:"mx-2 text-gray-400"},nt={key:1},lt={class:"flex flex-wrap items-center gap-2"},it={class:"flex flex-wrap items-center gap-2"},ut=L({__name:"DashboardPageHeader",props:{customer:{default:null},promoActive:{default:0}},emits:["logout"],setup(t,{emit:a}){const e=t,c=a,{formatDate:r}=H();function n(){c("logout")}return(b,i)=>{const k=N,_=F,m=q,u=ve;return d(),$(u,{class:"mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8 pt-8"},{title:f(()=>[o("div",Ye,[o("div",et,[e.customer?.avatar_url?(d(),h("img",{key:0,src:e.customer.avatar_url,alt:e.customer?.name||"User",class:"h-full w-full object-cover"},null,8,tt)):(d(),$(k,{key:1,name:"i-lucide-user",class:"size-5 text-gray-500 dark:text-gray-300"}))]),o("div",at,[o("p",ot,D(e.customer?.name||"Dashboard Akun"),1),o("p",st,[B(D(e.customer?.email||"—")+" ",1),e.customer?.phone?(d(),h("span",rt,"•")):E("",!0),e.customer?.phone?(d(),h("span",nt,D(e.customer?.phone),1)):E("",!0)])])])]),description:f(()=>[o("div",lt,[s(_,{label:e.customer?.tier?`Member ${e.customer.tier}`:"Member",color:"neutral",variant:"soft",class:"rounded-full"},null,8,["label"]),s(_,{label:`Member sejak ${p(r)(e.customer?.member_since)}`,color:"neutral",variant:"soft",class:"rounded-full"},null,8,["label"]),s(_,{label:e.promoActive?`${e.promoActive} promo aktif`:"Tidak ada promo aktif",color:e.promoActive?"primary":"neutral",variant:"soft",class:"rounded-full"},null,8,["label","color"])])]),right:f(()=>[o("div",it,[s(m,{to:"/products",color:"primary",variant:"solid",class:"rounded-xl",icon:"i-lucide-shopping-bag"},{default:f(()=>[...i[0]||(i[0]=[B(" Belanja ",-1)])]),_:1}),s(m,{to:"/cart",color:"neutral",variant:"outline",class:"rounded-xl",icon:"i-lucide-shopping-cart"},{default:f(()=>[...i[1]||(i[1]=[B(" Keranjang ",-1)])]),_:1}),s(m,{color:"neutral",variant:"ghost",class:"rounded-xl",icon:"i-lucide-log-out",onClick:n},{default:f(()=>[...i[2]||(i[2]=[B(" Keluar ",-1)])]),_:1})])]),_:1})}}}),j={dashboard:g(()=>y(()=>import("./DashboardHome-ftO0ARdw.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),form_account:g(()=>y(()=>import("./FormAccount-BA_51NIU.js"),__vite__mapDeps([7,1,2,3,4,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,6,23]))),orders:g(()=>y(()=>import("./Orders-BCR0xXft.js"),__vite__mapDeps([24,1,2,3,23,4,10,11,12,13,14,15,16,17,18,19,6,25,26,27,28]))),promo:g(()=>y(()=>import("./Promo-DDyX650D.js"),__vite__mapDeps([29,2,3,4,10,11,12,13,14,15,16,17,18,19,6,26,1]))),wallet:g(()=>y(()=>import("./Wallet-TsOw5T-1.js"),__vite__mapDeps([30,1,2,3,6,4,10,11,12,13,14,15,16,17,18,19,20,21,26,5,27,28,8,23]))),zenner:g(()=>y(()=>import("./Zenner-7XvARH2Y.js"),__vite__mapDeps([31,1,2,3,6,4,10,11,12,13,14,15,16,17,18,19,20,21]))),mitra:g(()=>y(()=>import("./Mitra-DbIWM9Sy.js"),__vite__mapDeps([32,1,2,3,23,6,4,11,25,27,28,13,12,14,19,22]))),network:g(()=>y(()=>import("./Network-Dpwztqs5.js"),__vite__mapDeps([33,1,2,3,23,11,4,27,28,13,12,14,19,6,22,25]))),bonus:g(()=>y(()=>import("./Bonus-DVChp1Lc.js"),__vite__mapDeps([34,5,3,1,2,35,11,4,13,19,36,18,37,16,38,6]))),lifetime:g(()=>y(()=>import("./Lifetime-B7K1Lhnm.js"),__vite__mapDeps([39,5,3,1,2,36,18,19]))),addresses:g(()=>y(()=>import("./Addresses-CNYlg6NB.js"),__vite__mapDeps([40,1,2,3,4,6,27,11,28,13,12,14,19,10,15,16,17,18,8,41,38,21,20]))),delete:g(()=>y(()=>import("./DeleteAccount-DVTfTxW9.js"),__vite__mapDeps([42,4,2,3,41,13,14,17,16,38,21,1])))},ae=["customer","defaultAddress","stats","networkProfile","networkStats","securitySummary"],oe=["addresses","defaultAddress"],se=["customer","defaultAddress"],re=["orders"],ne=["promos"],le=["zennerCategories","zennerContents"],ie=["customer","stats","walletTransactions","hasPendingWithdrawal","midtrans"],ue=["bonusStats","bonusTables"],ce=["lifetimeRewards"],de=["currentCustomerId","activeMembers","passiveMembers","prospectMembers","hasLeft","hasRight"],me=["currentCustomerId","passiveMembers","binaryTree","networkTreeStats"];function pe(t){return Object.prototype.hasOwnProperty.call(j,t)}function ct(t){const a=t.split("?")[1]??"",e=new URLSearchParams(a).get("section");return e&&pe(e)?e:"dashboard"}function dt(t,a){const e=fe(ct(a)),c=x(()=>j[e.value]??j.dashboard),r=x(()=>{switch(e.value){case"dashboard":return{customer:t.value.customer,defaultAddress:t.value.defaultAddress,stats:t.value.stats,networkProfile:t.value.networkProfile,networkStats:t.value.networkStats,securitySummary:t.value.securitySummary};case"addresses":return{addresses:t.value.addresses};case"form_account":return{customer:t.value.customer,defaultAddress:t.value.defaultAddress};case"orders":return{orders:t.value.orders,midtrans:t.value.midtrans};case"wallet":return{customer:t.value.customer,transactions:t.value.walletTransactions,hasPendingWithdrawal:t.value.hasPendingWithdrawal,walletBalance:t.value.stats?.wallet_balance,midtrans:t.value.midtrans};case"bonus":return{bonusStats:t.value.bonusStats,bonusTables:t.value.bonusTables};case"lifetime":return{lifetimeRewards:t.value.lifetimeRewards};case"promo":return{promos:t.value.promos};case"zenner":return{categories:t.value.zennerCategories,contents:t.value.zennerContents};case"mitra":return{activeMembers:t.value.activeMembers,passiveMembers:t.value.passiveMembers,prospectMembers:t.value.prospectMembers,hasLeft:t.value.hasLeft,hasRight:t.value.hasRight,currentCustomerId:t.value.currentCustomerId};case"network":return{binaryTree:t.value.binaryTree,networkTreeStats:t.value.networkTreeStats,passiveMembers:t.value.passiveMembers,currentCustomerId:t.value.currentCustomerId};default:return{}}}),n=x(()=>e.value!=="dashboard"?{}:{navigate:l=>{pe(l)&&Q(l)}}),b=x(()=>[{label:"Akun",type:"label"},{label:"Info Pengguna",icon:"i-lucide-user",value:"dashboard"},{label:"Form Pengguna",icon:"i-lucide-form",value:"form_account"},{label:"Order",icon:"i-lucide-package-search",value:"orders"},{label:"Promo",icon:"i-lucide-ticket",value:"promo"},{label:"Wallet",icon:"i-lucide-wallet",value:"wallet"},{label:"Alamat",icon:"i-lucide-map-pin",value:"addresses"},{label:"Mitra & Network",type:"label"},{label:"Zenner",icon:"i-lucide-sparkles",value:"zenner"},{label:"Mitra",icon:"i-lucide-handshake",value:"mitra"},{label:"Network",icon:"i-lucide-network",value:"network"},{label:"Bonus",icon:"i-lucide-coins",value:"bonus"},{label:"Lifetime",icon:"i-lucide-trophy",value:"lifetime"},{label:"Keamanan",type:"label"},{label:"Delete Account",icon:"i-lucide-user-x",value:"delete",color:"error"}]);function i(l){switch(l){case"dashboard":return ae;case"addresses":return oe;case"form_account":return se;case"orders":return re;case"promo":return ne;case"zenner":return le;case"wallet":return ie;case"bonus":return ue;case"lifetime":return ce;case"mitra":return de;case"network":return me;default:return[]}}function k(l){const w={section:l};if(l==="orders"){const T=Number(t.value.orders?.current_page??1);return T>1&&(w.orders_page=T),w}if(l==="wallet"){const T=t.value.walletTransactions,J=Number(T?.current_page??1),O=T?.filters,X=(O?.search??"").trim(),U=(O?.type??"").trim(),K=(O?.status??"").trim();J>1&&(w.wallet_page=J),X!==""&&(w.wallet_search=X),U!==""&&U!=="all"&&(w.wallet_type=U),K!==""&&K!=="all"&&(w.wallet_status=K)}return w}function _(l){v.get("/dashboard",k(l),{only:i(l),preserveState:!0,preserveScroll:!0,replace:!0})}function m(){e.value==="dashboard"&&v.reload({only:ae})}function u(){e.value==="addresses"&&v.reload({only:oe})}function P(){e.value==="form_account"&&v.reload({only:se})}function C(){e.value==="mitra"&&v.reload({only:de})}function S(){e.value==="network"&&v.reload({only:me})}function A(){e.value==="promo"&&v.reload({only:ne})}function I(){e.value==="zenner"&&v.reload({only:le})}function W(){e.value==="wallet"&&v.reload({only:ie})}function Z(){e.value==="bonus"&&v.reload({only:ue})}function G(){e.value==="lifetime"&&v.reload({only:ce})}function _e(l=1){e.value==="orders"&&v.get("/dashboard",{section:"orders",orders_page:l},{only:re,preserveState:!0,preserveScroll:!0,replace:!0})}let z;xe(()=>{z=window.setInterval(()=>{document.visibilityState==="visible"&&(m(),u(),P(),A(),I(),C(),S(),W(),Z(),G())},3e4),e.value==="orders"&&!t.value.orders&&_e(1),e.value==="promo"&&!t.value.promos&&A(),e.value==="form_account"&&!t.value.customer&&P(),e.value==="zenner"&&!t.value.zennerContents&&I(),e.value==="wallet"&&!t.value.walletTransactions&&W(),e.value==="bonus"&&(!t.value.bonusStats||!t.value.bonusTables)&&Z(),e.value==="lifetime"&&!t.value.lifetimeRewards&&G(),e.value==="network"&&!t.value.binaryTree&&S()}),Pe(()=>{z!==void 0&&window.clearInterval(z)}),Se(e,(l,w)=>{l!==w&&_(l)});function Q(l){if(l===e.value){_(l);return}e.value=l}return{active:e,currentComponent:c,currentComponentProps:r,currentComponentListeners:n,asideLinks:b,setActive:Q}}const mt={class:"grid grid-cols-1 gap-6 lg:grid-cols-12"},ft={class:"lg:col-span-9"},zt=L({layout:Ee,__name:"Index",setup(t){const a=Ce(),e=x(()=>a.props),c=x(()=>e.value.seo),r=x(()=>e.value.customer??null),{active:n,currentComponent:b,currentComponentProps:i,currentComponentListeners:k,asideLinks:_,setActive:m}=dt(e,a.url);function u(){v.post("/logout")}return(P,C)=>{const S=be,A=ge;return d(),h(R,null,[s(Te,{title:c.value.title,description:c.value.description,canonical:c.value.canonical},null,8,["title","description","canonical"]),s(A,{class:"min-h-screen bg-gray-50/60 dark:bg-gray-950"},{default:f(()=>[s(ut,{customer:r.value,"promo-active":e.value.stats?.promo_active,onLogout:u},null,8,["customer","promo-active"]),s(S,{class:"mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8 pb-10"},{default:f(()=>[o("div",mt,[s(Xe,{active:p(n),links:p(_),"wallet-balance":e.value.stats?.wallet_balance,"onUpdate:active":p(m)},null,8,["active","links","wallet-balance","onUpdate:active"]),o("div",ft,[(d(),$(Ae(p(b)),Me({key:p(n)},p(i),$e(p(k))),null,16))])])]),_:1})]),_:1})],64)}}});export{zt as default};
