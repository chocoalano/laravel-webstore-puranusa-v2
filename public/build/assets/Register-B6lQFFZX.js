import{a as $}from"./AppLayout.vue_vue_type_script_setup_true_lang-vbvzWjx_.js";import{_ as V}from"./Icon-HLcQNufH.js";import{d as y,k as w,f as r,g as t,h as g,F as S,l as A,t as h,i as k,b as K,j,e as n,u as b,$ as P,U as F,w as E,c as N}from"./app-Dpk2qVhs.js";import{_ as C}from"./Form-CEY0qJ_0.js";import{_ as D}from"./Button-D3HFYD0O.js";import{_ as q}from"./Checkbox-BVf1N_5-.js";import{_ as z}from"./Select-D4ejGk_n.js";import{_ as B}from"./FormField-D83BjFAY.js";import{_ as I}from"./Input-CzHuiSw4.js";import{_ as L}from"./Alert-Q6bWetU5.js";import{_ as M}from"./SeoHead.vue_vue_type_script_setup_true_lang-CXPd74Q_.js";import{u as R}from"./useToast-YFBE-blV.js";import"./Presence-Bdn01jZp.js";import"./useLocale-CA26Ptc0.js";import"./usePortal-CLMo3DUw.js";import"./VisuallyHidden-BJmj1zui.js";import"./utils-CWiJOLA-.js";import"./Separator-Cr2pdNhR.js";import"./PopperArrow-D2znCzMG.js";import"./DialogTrigger-Br19wQdd.js";import"./RovingFocusItem-3HBrCzkB.js";import"./Badge-Dj3YBdeK.js";import"./VisuallyHiddenInput-iJgpq9SD.js";import"./Label-pGx1TQ6T.js";import"./clamp-BstbYvQo.js";const W={class:"relative hidden overflow-hidden bg-linear-to-br from-primary via-primary-800 to-primary-500 lg:flex lg:flex-col lg:justify-between lg:p-12"},J={class:"relative flex items-center gap-2"},T={class:"relative space-y-8"},O={class:"space-y-3"},G={class:"font-semibold text-white"},Y={class:"text-sm text-white/70"},Z={class:"relative text-sm text-white/50"},H=y({__name:"RegisterInfoPanel",setup(u){const c=[{icon:"i-lucide-badge-check",title:"Akses khusus member",description:"Katalog & fitur yang dirancang untuk pertumbuhan Anda."},{icon:"i-lucide-users",title:"Komunitas & dukungan",description:"Lebih mudah mulai karena ada arahan dan support."},{icon:"i-lucide-shield-check",title:"Data rapi & terorganisir",description:"Kelola akun Anda dengan lebih nyaman dan aman."}];return(e,m)=>{const f=V;return k(),w("div",W,[m[2]||(m[2]=r("div",{class:"pointer-events-none absolute inset-0"},[r("div",{class:"absolute -right-24 -top-24 h-96 w-96 rounded-full bg-white/5"}),r("div",{class:"absolute -bottom-24 -left-24 h-80 w-80 rounded-full bg-white/5"}),r("div",{class:"absolute left-1/2 top-1/2 h-64 w-64 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/3"})],-1)),r("div",J,[t(f,{name:"i-lucide-sparkles",class:"size-6 text-white/80"}),m[0]||(m[0]=r("span",{class:"text-xl font-black tracking-tight text-white"},"Puranusa",-1))]),r("div",T,[m[1]||(m[1]=r("div",{class:"space-y-4"},[r("div",{class:"inline-flex items-center gap-2 rounded-full bg-white/15 px-3 py-1 text-xs font-semibold text-white/90 backdrop-blur"}," Gratis daftar • Mulai lebih cepat "),r("h1",{class:"text-4xl font-black leading-tight tracking-tight text-white"},[g(" Jadi Member "),r("br"),g(" Puranusa hari ini. ")]),r("p",{class:"text-lg text-white/75"}," Dapatkan akses member untuk memulai, lebih mudah, lebih rapi, dan siap dikembangkan. ")],-1)),r("div",O,[(k(),w(S,null,A(c,p=>r("div",{key:p.title,class:"flex items-start gap-3 rounded-2xl bg-white/10 p-4 backdrop-blur-sm"},[t(f,{name:p.icon,class:"mt-0.5 size-5 shrink-0 text-white"},null,8,["name"]),r("div",null,[r("div",G,h(p.title),1),r("div",Y,h(p.description),1)])])),64))])]),r("div",Z," © "+h(new Date().getFullYear())+" Puranusa. Semua hak dilindungi. ",1)])}}}),Q={class:"flex min-h-dvh flex-col items-center justify-center bg-white px-6 py-12 dark:bg-slate-950 lg:px-12"},X={class:"mb-8 flex items-center gap-2 lg:hidden"},ee={class:"w-full max-w-2xl"},ae={class:"mb-8"},re={class:"mb-2 flex items-center gap-2"},te={class:"space-y-4"},se={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},oe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},le={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ie={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ne={class:"space-y-4"},me={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},de={class:"space-y-4"},ue={class:"space-y-3 text-center"},pe={class:"text-sm text-slate-500"},ce=y({__name:"RegisterFormPanel",props:{form:{},validate:{type:Function},firstError:{}},emits:["submit"],setup(u,{emit:c}){const e=u,m=c,f=[{label:"Laki-laki",value:"L"},{label:"Perempuan",value:"P"}];return(p,a)=>{const o=V,l=L,d=I,i=B,x=z,_=q,v=D,U=C;return k(),w("div",Q,[r("div",X,[t(o,{name:"i-lucide-sparkles",class:"size-5 text-primary-500"}),a[12]||(a[12]=r("span",{class:"text-lg font-black tracking-tight text-slate-900 dark:text-white"},"Puranusa",-1))]),r("div",ee,[r("div",ae,[r("div",re,[t(o,{name:"i-lucide-user-plus",class:"size-6 text-primary-500"}),a[13]||(a[13]=r("h1",{class:"text-2xl font-bold text-slate-900 dark:text-white"},"Pendaftaran Member",-1))]),a[14]||(a[14]=r("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Isi data berikut untuk membuat akun baru.",-1))]),u.firstError?(k(),K(l,{key:0,class:"mb-6",color:"error",variant:"soft",icon:"i-lucide-alert-triangle",title:"Pendaftaran gagal",description:String(u.firstError)},null,8,["description"])):j("",!0),t(U,{state:e.form,validate:e.validate,onSubmit:a[11]||(a[11]=s=>m("submit")),class:"space-y-6"},{default:n(()=>[r("div",te,[a[15]||(a[15]=r("p",{class:"text-xs font-semibold uppercase tracking-widest text-slate-400"},"Data Diri",-1)),r("div",se,[t(i,{label:"Nama Lengkap",name:"name",required:"",error:e.form.errors.name},{default:n(()=>[t(d,{modelValue:e.form.name,"onUpdate:modelValue":a[0]||(a[0]=s=>e.form.name=s),placeholder:"Nama sesuai KTP",autocomplete:"name",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),t(i,{label:"Username",name:"username",required:"",error:e.form.errors.username},{default:n(()=>[t(d,{modelValue:e.form.username,"onUpdate:modelValue":a[1]||(a[1]=s=>e.form.username=s),placeholder:"Contoh: puranusa_partner",autocomplete:"username",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])]),r("div",oe,[t(i,{label:"Email",name:"email",required:"",error:e.form.errors.email},{default:n(()=>[t(d,{modelValue:e.form.email,"onUpdate:modelValue":a[2]||(a[2]=s=>e.form.email=s),type:"email",placeholder:"email@contoh.com",autocomplete:"email",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),t(i,{label:"Nomor WhatsApp",name:"telp",required:"",error:e.form.errors.telp},{default:n(()=>[t(d,{modelValue:e.form.telp,"onUpdate:modelValue":a[3]||(a[3]=s=>e.form.telp=s),type:"tel",placeholder:"08xxxxxxxxxx",autocomplete:"tel",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])]),r("div",le,[t(i,{label:"NIK (opsional)",name:"nik",error:e.form.errors.nik},{default:n(()=>[t(d,{modelValue:e.form.nik,"onUpdate:modelValue":a[4]||(a[4]=s=>e.form.nik=s),placeholder:"16 digit",autocomplete:"off",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),t(i,{label:"Jenis Kelamin",name:"gender",required:"",error:e.form.errors.gender},{default:n(()=>[t(x,{modelValue:e.form.gender,"onUpdate:modelValue":a[5]||(a[5]=s=>e.form.gender=s),items:f,placeholder:"Pilih jenis kelamin",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])]),r("div",ie,[t(i,{label:"Alamat (opsional)",name:"alamat",error:e.form.errors.alamat},{default:n(()=>[t(d,{modelValue:e.form.alamat,"onUpdate:modelValue":a[6]||(a[6]=s=>e.form.alamat=s),placeholder:"Alamat lengkap untuk pengiriman",autocomplete:"street-address",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),t(i,{label:"Kode Referral (opsional)",name:"referral_code",error:e.form.errors.referral_code},{default:n(()=>[t(d,{modelValue:e.form.referral_code,"onUpdate:modelValue":a[7]||(a[7]=s=>e.form.referral_code=s),placeholder:"Jika ada, masukkan di sini",autocomplete:"off",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])])]),r("div",ne,[a[16]||(a[16]=r("p",{class:"text-xs font-semibold uppercase tracking-widest text-slate-400"},"Keamanan Akun",-1)),r("div",me,[t(i,{label:"Kata Sandi",name:"password",required:"",error:e.form.errors.password},{default:n(()=>[t(d,{modelValue:e.form.password,"onUpdate:modelValue":a[8]||(a[8]=s=>e.form.password=s),type:"password",placeholder:"Minimal 8 karakter",autocomplete:"new-password",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),t(i,{label:"Konfirmasi Kata Sandi",name:"password_confirmation",required:"",error:e.form.errors.password_confirmation},{default:n(()=>[t(d,{modelValue:e.form.password_confirmation,"onUpdate:modelValue":a[9]||(a[9]=s=>e.form.password_confirmation=s),type:"password",placeholder:"Ulangi kata sandi",autocomplete:"new-password",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])])]),r("div",de,[t(i,{name:"terms",error:e.form.errors.terms},{default:n(()=>[t(_,{modelValue:e.form.terms,"onUpdate:modelValue":a[10]||(a[10]=s=>e.form.terms=s),label:"Saya setuju dengan Syarat & Ketentuan",description:e.form.errors.terms?void 0:"Wajib dicentang untuk melanjutkan."},null,8,["modelValue","description"])]),_:1},8,["error"]),t(v,{type:"submit",block:"",size:"lg",color:"primary",loading:e.form.processing,disabled:e.form.processing,"leading-icon":"i-lucide-user-plus"},{default:n(()=>[g(h(e.form.processing?"Sedang membuat akun…":"Daftar Sekarang"),1)]),_:1},8,["loading","disabled"])]),r("div",ue,[a[19]||(a[19]=r("p",{class:"text-xs text-slate-500"},[g(" Dengan mendaftar, Anda menyetujui "),r("a",{href:"#",class:"font-semibold text-primary-600 hover:text-primary-500"},"Syarat & Ketentuan"),g(". ")],-1)),r("div",pe,[a[18]||(a[18]=g(" Sudah punya akun? ",-1)),t(b(P),{href:"/login",class:"font-bold text-primary-600 hover:text-primary-500"},{default:n(()=>[...a[17]||(a[17]=[g("Masuk",-1)])]),_:1})])])]),_:1},8,["state","validate"])])])}}});function fe(u){const c=R(),e=F({name:"",username:"",email:"",telp:"",nik:"",gender:"",alamat:"",referral_code:u??"",password:"",password_confirmation:"",terms:!1}),m=N(()=>Object.values(e.errors??{})[0]),f=["name","username","email","telp","gender","password","password_confirmation","terms"];for(const o of f)E(()=>e[o],()=>e.clearErrors(o));function p(o){const l=[],d=String(o.email??"").trim(),i=String(o.telp??"").replace(/\s+/g,""),x=String(o.username??"").trim(),_=String(o.password??""),v=String(o.password_confirmation??"");return String(o.name??"").trim()||l.push({name:"name",message:"Nama wajib diisi."}),x?/^[a-zA-Z0-9_.]{3,30}$/.test(x)||l.push({name:"username",message:"Username minimal 3 karakter (huruf/angka/underscore/titik)."}):l.push({name:"username",message:"Username wajib diisi."}),d?/^\S+@\S+\.\S+$/.test(d)||l.push({name:"email",message:"Format email tidak valid."}):l.push({name:"email",message:"Email wajib diisi."}),i?/^[0-9+]{8,16}$/.test(i)||l.push({name:"telp",message:"Nomor WhatsApp tidak valid."}):l.push({name:"telp",message:"Nomor WhatsApp wajib diisi."}),o.gender!=="L"&&o.gender!=="P"&&l.push({name:"gender",message:"Silakan pilih jenis kelamin."}),(!_||_.length<8)&&l.push({name:"password",message:"Kata sandi minimal 8 karakter."}),_!==v&&l.push({name:"password_confirmation",message:"Konfirmasi kata sandi tidak cocok."}),o.terms||l.push({name:"terms",message:"Anda harus menyetujui Syarat & Ketentuan."}),l}function a(){e.clearErrors(),e.post("/register",{preserveScroll:!0,onError:()=>{c.add({title:"Pendaftaran gagal",description:String(m.value??"Periksa kembali data yang Anda isi."),color:"error"})},onSuccess:()=>{c.add({title:"Berhasil!",description:"Akun Anda berhasil dibuat. Selamat bergabung!",color:"success"})},onFinish:()=>e.reset("password","password_confirmation")})}return{form:e,firstError:m,validate:p,onSubmit:a}}const ge={class:"grid min-h-dvh lg:grid-cols-2"},Le=y({layout:$,__name:"Register",props:{seo:{},referralCode:{}},setup(u){const c=u,{form:e,validate:m,firstError:f,onSubmit:p}=fe(c.referralCode);return(a,o)=>(k(),w(S,null,[t(M,{title:u.seo.title,description:u.seo.description,canonical:u.seo.canonical},null,8,["title","description","canonical"]),r("div",ge,[t(H),t(ce,{form:b(e),validate:b(m),"first-error":b(f),onSubmit:b(p)},null,8,["form","validate","first-error","onSubmit"])])],64))}});export{Le as default};
