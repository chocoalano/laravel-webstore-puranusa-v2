import{_ as $}from"./Card-Bg0Kv25I.js";import{c as y,r as b,d as w,k,f as o,g as c,t as g,e as i,h as C,i as m,b as p,F as I,l as S,j as U,u as f}from"./app-Ct9AQz3a.js";import{_ as F}from"./Badge-BrOriF3i.js";import{_ as z}from"./Icon-DLkENiec.js";import{_ as B}from"./SelectMenu-36JS-GAY.js";import{_ as N}from"./FormField-DR3qO_4n.js";import{_ as V}from"./Input-DKYkVkaK.js";import{_ as j}from"./Button-DlP5TfEn.js";import"./usePortal-BjiTY23K.js";import"./Presence-CTfVoSjs.js";import"./VisuallyHidden-BSn5Ae5a.js";import"./PopperArrow-q2Y0TQCy.js";import"./utils-BSTWYaBh.js";import"./VisuallyHiddenInput-DDhaMnhq.js";import"./index-CygXWxiy.js";import"./useLocale-QzNUJIp8.js";import"./Label-CSxIoeop.js";function Z(a){const d=b("all"),t=b(""),n=y(()=>{const e=[{label:"Semua kategori",value:"all"}],r=a.categories.value.map(h=>({label:h.name,value:h.slug}));return[...e,...r]}),u=y(()=>{const e=t.value.trim().toLowerCase();return a.contents.value.filter(r=>d.value==="all"||String(r.category_slug??"")===d.value?e===""?!0:[r.title,r.excerpt,r.category_name??"",r.slug].join(" ").toLowerCase().includes(e):!1)}),_=y(()=>a.contents.value.length),l=y(()=>a.categories.value.length);function s(e){if(!e)return"-";const r=new Date(e);return Number.isNaN(r.getTime())?e:new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"short",year:"numeric"}).format(r)}function x(e){return e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?e:e.startsWith("storage/")?`/${e}`:`/storage/${e}`:null}return{selectedCategory:d,searchQuery:t,categoryItems:n,filteredContents:u,totalContents:_,totalCategories:l,formatDate:s,normalizeFileUrl:x}}const L={class:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between"},W={class:"flex items-center gap-3"},T={class:"text-sm text-gray-500 dark:text-gray-400"},K={class:"flex flex-wrap items-center gap-2"},Q=w({__name:"ZennerHeaderStats",props:{totalContents:{},totalCategories:{},shownCount:{}},setup(a){return(d,t)=>{const n=z,u=F;return m(),k("div",L,[o("div",W,[c(n,{name:"i-lucide-sparkles",class:"size-5 text-gray-500 dark:text-gray-300"}),o("div",null,[t[0]||(t[0]=o("p",{class:"text-base font-semibold text-gray-900 dark:text-white"},"Zenner Content Center",-1)),o("p",T,g(a.totalContents)+" konten dari "+g(a.totalCategories)+" kategori ",1)])]),o("div",K,[c(u,{color:"primary",variant:"soft",class:"rounded-full"},{default:i(()=>[C(g(a.shownCount)+" ditampilkan ",1)]),_:1})])])}}}),E={class:"flex flex-col gap-3 md:flex-row md:items-end"},H=w({__name:"ZennerFilters",props:{search:{},selectedCategory:{},categoryItems:{}},emits:["update:search","update:selectedCategory"],setup(a,{emit:d}){const t=a,n=d;function u(l){n("update:search",String(l??""))}function _(l){n("update:selectedCategory",l)}return(l,s)=>{const x=V,e=N,r=B;return m(),k("div",E,[c(e,{label:"Cari konten",class:"w-full md:flex-1"},{default:i(()=>[c(x,{"model-value":t.search,placeholder:"Cari judul, kategori, atau ringkasan...",icon:"i-lucide-search",class:"w-full","onUpdate:modelValue":u},null,8,["model-value"])]),_:1}),c(e,{label:"Kategori",class:"w-full md:w-80"},{default:i(()=>[c(r,{"model-value":t.selectedCategory,items:t.categoryItems,"value-key":"value","label-key":"label",class:"w-full","onUpdate:modelValue":_},null,8,["model-value","items"])]),_:1})])}}}),M={class:"py-10 text-center text-gray-500 dark:text-gray-400"},q={key:1,class:"grid gap-3"},A={class:"space-y-3"},G={class:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between"},J={class:"text-sm font-semibold text-gray-900 dark:text-white"},O={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},P={class:"flex flex-wrap gap-2"},R={class:"flex flex-wrap items-center justify-between gap-2 text-xs text-gray-500 dark:text-gray-400"},X={class:"flex gap-2"},Y=w({__name:"ZennerContentList",props:{contents:{},formatDate:{type:Function},normalizeFileUrl:{type:Function}},setup(a){return(d,t)=>{const n=z,u=$,_=F,l=j;return a.contents.length===0?(m(),p(u,{key:0,class:"rounded-2xl"},{default:i(()=>[o("div",M,[c(n,{name:"i-lucide-file-search",class:"mx-auto size-10 opacity-40"}),t[0]||(t[0]=o("p",{class:"mt-3 text-sm"},"Konten belum tersedia untuk filter ini.",-1))])]),_:1})):(m(),k("div",q,[(m(!0),k(I,null,S(a.contents,s=>(m(),p(u,{key:s.id,class:"rounded-xl"},{default:i(()=>[o("div",A,[o("div",G,[o("div",null,[o("p",J,g(s.title),1),o("p",O,g(s.excerpt),1)]),o("div",P,[s.category_name?(m(),p(_,{key:0,color:"neutral",variant:"soft",class:"rounded-full"},{default:i(()=>[C(g(s.category_name),1)]),_:2},1024)):U("",!0),c(_,{color:"neutral",variant:"soft",class:"rounded-full"},{default:i(()=>[C(g(s.status_label??"Unknown"),1)]),_:2},1024)])]),o("div",R,[o("p",null,"Diperbarui: "+g(a.formatDate(s.updated_at??s.created_at)),1),o("div",X,[s.vlink?(m(),p(l,{key:0,to:s.vlink,target:"_blank",size:"xs",color:"primary",variant:"outline",icon:"i-lucide-play-circle",class:"rounded-lg"},{default:i(()=>[...t[1]||(t[1]=[C(" Video ",-1)])]),_:1},8,["to"])):U("",!0),a.normalizeFileUrl(s.file)?(m(),p(l,{key:1,to:a.normalizeFileUrl(s.file)??void 0,target:"_blank",size:"xs",color:"neutral",variant:"outline",icon:"i-lucide-paperclip",class:"rounded-lg"},{default:i(()=>[...t[2]||(t[2]=[C(" File ",-1)])]),_:1},8,["to"])):U("",!0)])])])]),_:2},1024))),128))]))}}}),ee={class:"space-y-4"},he=w({__name:"Zenner",props:{categories:{default:()=>[]},contents:{default:()=>[]}},setup(a){const d=a,{selectedCategory:t,searchQuery:n,categoryItems:u,filteredContents:_,totalContents:l,totalCategories:s,formatDate:x,normalizeFileUrl:e}=Z({categories:y(()=>d.categories),contents:y(()=>d.contents)});function r(v){n.value=v}function h(v){t.value=v}return(v,te)=>{const D=$;return m(),p(D,{class:"rounded-2xl"},{header:i(()=>[c(Q,{"total-contents":f(l),"total-categories":f(s),"shown-count":f(_).length},null,8,["total-contents","total-categories","shown-count"])]),default:i(()=>[o("div",ee,[c(H,{search:f(n),"selected-category":f(t),"category-items":f(u),"onUpdate:search":r,"onUpdate:selectedCategory":h},null,8,["search","selected-category","category-items"]),c(Y,{contents:f(_),"format-date":f(x),"normalize-file-url":f(e)},null,8,["contents","format-date","normalize-file-url"])])]),_:1})}}});export{he as default};
