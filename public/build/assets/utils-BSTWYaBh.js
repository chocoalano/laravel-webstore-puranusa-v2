import{x,b as I,g as d}from"./Presence-CTfVoSjs.js";import{r as m,c as v,a4 as T,a3 as h,d as p,P,al as N,I as E,w as O}from"./app-Ct9AQz3a.js";import{S as A}from"./Icon-DLkENiec.js";function L(e){const t=x({dir:m("ltr")});return v(()=>e?.value||t.dir?.value||"ltr")}function w(){const e=m(),t=v(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:I(e));return{primitiveElement:e,currentElement:t}}const g="data-reka-collection-item";function $(e={}){const{key:t="",isProvider:n=!1}=e,r=`${t}CollectionProvider`;let o;if(n){const l=m(new Map);o={collectionRef:m(),itemMap:l},T(r,o)}else o=h(r);const C=(l=!1)=>{const i=o.collectionRef.value;if(!i)return[];const s=Array.from(i.querySelectorAll(`[${g}]`)),a=Array.from(o.itemMap.value.values()).sort((u,f)=>s.indexOf(u.ref)-s.indexOf(f.ref));return l?a:a.filter(u=>u.ref.dataset.disabled!=="")},M=p({name:"CollectionSlot",setup(l,{slots:i}){const{primitiveElement:s,currentElement:c}=w();return O(c,()=>{o.collectionRef.value=c.value}),()=>E(A,{ref:s},i)}}),R=p({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(l,{slots:i,attrs:s}){const{primitiveElement:c,currentElement:a}=w();return P(u=>{if(a.value){const f=N(a.value);o.itemMap.value.set(f,{ref:a.value,value:l.value}),u(()=>o.itemMap.value.delete(f))}}),()=>E(A,{...s,[g]:"",ref:c},i)}}),S=v(()=>Array.from(o.itemMap.value.values())),_=v(()=>o.itemMap.value.size);return{getItems:C,reactiveItems:S,itemMapSize:_,CollectionSlot:M,CollectionItem:R}}const j="rovingFocusGroup.onEntryFocus",k={bubbles:!1,cancelable:!0},b={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function y(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function z(e,t,n){const r=y(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return b[r]}function K(e,t=!1){const n=d();for(const r of e)if(r===n||(r.focus({preventScroll:t}),d()!==n))return}function Y(e,t){return e.map((n,r)=>e[(t+r)%e.length])}export{j as E,b as M,L as a,w as b,k as c,K as f,z as g,$ as u,Y as w};
