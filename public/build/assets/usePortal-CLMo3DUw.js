import{y as Q,l as Z,x as ee,j as T,z as x,k as te,b as ne,u as U,q as se,A as re,g as S,f as oe}from"./Presence-Bdn01jZp.js";import{d as ae,P as H}from"./Icon-HLcQNufH.js";import{c as b,r as w,w as z,H as F,a1 as ie,P,as as _,d as I,i as M,b as N,e as j,z as W,u as O,S as ue,q as $,a0 as le,j as ce,a3 as de}from"./app-Dpk2qVhs.js";import{i as fe}from"./VisuallyHidden-BJmj1zui.js";function V(e,n,t){const s=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&s.addEventListener(e,n,{once:!0}),s.dispatchEvent(i)}const ve=Z(()=>{const e=w(new Map),n=w(),t=b(()=>{for(const v of e.value.values())if(v)return!0;return!1}),s=ee({scrollBody:w(!0)});let i=null;const l=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=n.value??"",x&&i?.(),n.value=void 0};return z(t,(v,c)=>{if(!T)return;if(!v){c&&l();return}n.value===void 0&&(n.value=document.body.style.overflow);const d=window.innerWidth-document.documentElement.clientWidth,y={padding:d,margin:0},a=s.scrollBody?.value?typeof s.scrollBody.value=="object"?ae({padding:s.scrollBody.value.padding===!0?d:s.scrollBody.value.padding,margin:s.scrollBody.value.margin===!0?d:s.scrollBody.value.margin},y):y:{padding:0,margin:0};d>0&&(document.body.style.paddingRight=typeof a.padding=="number"?`${a.padding}px`:String(a.padding),document.body.style.marginRight=typeof a.margin=="number"?`${a.margin}px`:String(a.margin),document.documentElement.style.setProperty("--scrollbar-width",`${d}px`),document.body.style.overflow="hidden"),x&&(i=te(document,"touchmove",r=>pe(r),{passive:!1})),F(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function xe(e){const n=Math.random().toString(36).substring(2,7),t=ve();t.value.set(n,e??!1);const s=b({get:()=>t.value.get(n)??!1,set:i=>t.value.set(n,i)});return Q(()=>{t.value.delete(n)}),s}function Y(e){const n=window.getComputedStyle(e);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&e.clientWidth<e.scrollWidth||n.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!(t instanceof Element)||t.tagName==="BODY"?!1:Y(t)}}function pe(e){const n=e||window.event,t=n.target;return t instanceof Element&&Y(t)?!1:n.touches.length>1?!0:(n.preventDefault&&n.cancelable&&n.preventDefault(),!1)}var ye=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},D=new WeakMap,L=new WeakMap,C={},B=0,X=function(e){return e&&(e.host||X(e.parentNode))},me=function(e,n){return n.map(function(t){if(e.contains(t))return t;var s=X(t);return s&&e.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},he=function(e,n,t,s){var i=me(n,Array.isArray(e)?e:[e]);C[t]||(C[t]=new WeakMap);var l=C[t],v=[],c=new Set,d=new Set(i),y=function(r){!r||c.has(r)||(c.add(r),y(r.parentNode))};i.forEach(y);var a=function(r){!r||d.has(r)||Array.prototype.forEach.call(r.children,function(u){if(c.has(u))a(u);else try{var o=u.getAttribute(s),f=o!==null&&o!=="false",p=(D.get(u)||0)+1,m=(l.get(u)||0)+1;D.set(u,p),l.set(u,m),v.push(u),p===1&&f&&L.set(u,!0),m===1&&u.setAttribute(t,"true"),f||u.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",u,E)}})};return a(n),c.clear(),B++,function(){v.forEach(function(r){var u=D.get(r)-1,o=l.get(r)-1;D.set(r,u),l.set(r,o),u||(L.has(r)||r.removeAttribute(s),L.delete(r)),o||r.removeAttribute(t)}),B--,B||(D=new WeakMap,D=new WeakMap,L=new WeakMap,C={})}},be=function(e,n,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=ye(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),he(s,i,t,"aria-hidden")):function(){return null}};function qe(e){let n;z(()=>ne(e),t=>{t?n=be(t):n&&n()}),ie(()=>{n&&n()})}const Ee="dismissableLayer.pointerDownOutside",ge="dismissableLayer.focusOutside";function G(e,n){const t=n.closest("[data-dismissable-layer]"),s=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),i=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(t&&(s===t||i.indexOf(s)<i.indexOf(t)))}function we(e,n,t=!0){const s=n?.value?.ownerDocument??globalThis?.document,i=w(!1),l=w(()=>{});return P(v=>{if(!T||!_(t))return;const c=async y=>{const a=y.target;if(!(!n?.value||!a)){if(G(n.value,a)){i.value=!1;return}if(y.target&&!i.value){let u=function(){V(Ee,e,r)};const r={originalEvent:y};y.pointerType==="touch"?(s.removeEventListener("click",l.value),l.value=u,s.addEventListener("click",l.value,{once:!0})):u()}else s.removeEventListener("click",l.value);i.value=!1}},d=window.setTimeout(()=>{s.addEventListener("pointerdown",c)},0);v(()=>{window.clearTimeout(d),s.removeEventListener("pointerdown",c),s.removeEventListener("click",l.value)})}),{onPointerDownCapture:()=>{_(t)&&(i.value=!0)}}}function Oe(e,n,t=!0){const s=n?.value?.ownerDocument??globalThis?.document,i=w(!1);return P(l=>{if(!T||!_(t))return;const v=async c=>{if(!n?.value)return;await F(),await F();const d=c.target;!n.value||!d||G(n.value,d)||c.target&&!i.value&&V(ge,e,{originalEvent:c})};s.addEventListener("focusin",v),l(()=>s.removeEventListener("focusin",v))}),{onFocusCapture:()=>{_(t)&&(i.value=!0)},onBlurCapture:()=>{_(t)&&(i.value=!1)}}}const h=$({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var De=I({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:n}){const t=e,s=n,{forwardRef:i,currentElement:l}=U(),v=b(()=>l.value?.ownerDocument??globalThis.document),c=b(()=>h.layersRoot),d=b(()=>l.value?Array.from(c.value).indexOf(l.value):-1),y=b(()=>h.layersWithOutsidePointerEventsDisabled.size>0),a=b(()=>{const o=Array.from(c.value),[f]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),p=o.indexOf(f);return d.value>=p}),r=we(async o=>{const f=[...h.branches].some(p=>p?.contains(o.target));!a.value||f||(s("pointerDownOutside",o),s("interactOutside",o),await F(),o.defaultPrevented||s("dismiss"))},l),u=Oe(o=>{[...h.branches].some(p=>p?.contains(o.target))||(s("focusOutside",o),s("interactOutside",o),o.defaultPrevented||s("dismiss"))},l);return se("Escape",o=>{d.value===c.value.size-1&&(s("escapeKeyDown",o),o.defaultPrevented||s("dismiss"))}),P(o=>{l.value&&(t.disableOutsidePointerEvents&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(h.originalBodyPointerEvents=v.value.body.style.pointerEvents,v.value.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(l.value)),c.value.add(l.value),o(()=>{t.disableOutsidePointerEvents&&h.layersWithOutsidePointerEventsDisabled.size===1&&!fe(h.originalBodyPointerEvents)&&(v.value.body.style.pointerEvents=h.originalBodyPointerEvents)}))}),P(o=>{o(()=>{l.value&&(c.value.delete(l.value),h.layersWithOutsidePointerEventsDisabled.delete(l.value))})}),(o,f)=>(M(),N(O(H),{ref:O(i),"as-child":o.asChild,as:o.as,"data-dismissable-layer":"",style:ue({pointerEvents:y.value?a.value?"auto":"none":void 0}),onFocusCapture:O(u).onFocusCapture,onBlurCapture:O(u).onBlurCapture,onPointerdownCapture:O(r).onPointerDownCapture},{default:j(()=>[W(o.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Re=De;const Se=re(()=>w([]));function Pe(){const e=Se();return{add(n){const t=e.value[0];n!==t&&t?.pause(),e.value=q(e.value,n),e.value.unshift(n)},remove(n){e.value=q(e.value,n),e.value[0]?.resume()}}}function q(e,n){const t=[...e],s=t.indexOf(n);return s!==-1&&t.splice(s,1),t}function _e(e){return e.filter(n=>n.tagName!=="A")}const k="focusScope.autoFocusOnMount",A="focusScope.autoFocusOnUnmount",R={bubbles:!1,cancelable:!0};function Fe(e,{select:n=!1}={}){const t=S();for(const s of e)if(g(s,{select:n}),S()!==t)return!0}function Le(e){const n=J(e),t=K(n,e),s=K(n.reverse(),e);return[t,s]}function J(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function K(e,n){for(const t of e)if(!Ce(t,{upTo:n}))return t}function Ce(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Te(e){return e instanceof HTMLInputElement&&"select"in e}function g(e,{select:n=!1}={}){if(e&&e.focus){const t=S();e.focus({preventScroll:!0}),e!==t&&Te(e)&&n&&e.select()}}var Be=I({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:n}){const t=e,s=n,{currentRef:i,currentElement:l}=U(),v=w(null),c=Pe(),d=$({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});P(a=>{if(!T)return;const r=l.value;if(!t.trapped)return;function u(m){if(d.paused||!r)return;const E=m.target;r.contains(E)?v.value=E:g(v.value,{select:!0})}function o(m){if(d.paused||!r)return;const E=m.relatedTarget;E!==null&&(r.contains(E)||g(v.value,{select:!0}))}function f(m){r.contains(v.value)||g(r)}document.addEventListener("focusin",u),document.addEventListener("focusout",o);const p=new MutationObserver(f);r&&p.observe(r,{childList:!0,subtree:!0}),a(()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",o),p.disconnect()})}),P(async a=>{const r=l.value;if(await F(),!r)return;c.add(d);const u=S();if(!r.contains(u)){const f=new CustomEvent(k,R);r.addEventListener(k,p=>s("mountAutoFocus",p)),r.dispatchEvent(f),f.defaultPrevented||(Fe(_e(J(r)),{select:!0}),S()===u&&g(r))}a(()=>{r.removeEventListener(k,m=>s("mountAutoFocus",m));const f=new CustomEvent(A,R),p=m=>{s("unmountAutoFocus",m)};r.addEventListener(A,p),r.dispatchEvent(f),setTimeout(()=>{f.defaultPrevented||g(u??document.body,{select:!0}),r.removeEventListener(A,p),c.remove(d)},0)})});function y(a){if(!t.loop&&!t.trapped||d.paused)return;const r=a.key==="Tab"&&!a.altKey&&!a.ctrlKey&&!a.metaKey,u=S();if(r&&u){const o=a.currentTarget,[f,p]=Le(o);f&&p?!a.shiftKey&&u===p?(a.preventDefault(),t.loop&&g(f,{select:!0})):a.shiftKey&&u===f&&(a.preventDefault(),t.loop&&g(p,{select:!0})):u===o&&a.preventDefault()}}return(a,r)=>(M(),N(O(H),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":a.asChild,as:a.as,onKeydown:y},{default:j(()=>[W(a.$slots,"default")]),_:3},8,["as-child","as"]))}}),Ke=Be,ke=I({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=oe();return(t,s)=>O(n)||t.forceMount?(M(),N(le,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[W(t.$slots,"default")],8,["to","disabled","defer"])):ce("v-if",!0)}}),Ue=ke;const Ae=Symbol("nuxt-ui.portal-target");function He(e){const n=de(Ae,void 0),t=b(()=>e.value===!0?n?.value:e.value),s=b(()=>typeof t.value=="boolean"?!t.value:!1),i=b(()=>typeof t.value=="boolean"?"body":t.value);return b(()=>({to:i.value,disabled:s.value}))}export{Re as D,Ke as F,Ue as T,xe as a,qe as b,h as c,Fe as f,J as g,V as h,Ae as p,He as u};
